<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital System Design App</title>
    <style>
        body { 
            font-family: 'Roboto', sans-serif;
            background-color: #1e1e1e;
            margin: 0;
            padding: 0;
            color: #dcdcdc;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .container, .button-container {
            text-align: center;
            margin-top: 15%;
            background-color: rgba(30, 30, 30, 0.85);
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.2);
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            padding: 40px;
        }

        h1 {
            color: #00ccff;
            font-size: 36px;
        }

        h2 {
            color: #00ccff;
            font-size: 28px;
        }

        p {
            color: #b0b0b0;
            font-size: 18px;
        }

        .button-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        button {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            background-color: #00ccff;
            color: #1e1e1e;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.3s;
            height: 60px;
        }

        button:hover {
            background-color: #008fb3;
            transform: scale(1.05);
        }

        input[type="text"] {
            width: 100%;
            height: 40px;
            padding: 10px;
            margin-bottom: 20px;
            border: 1px solid #00ccff;
            border-radius: 5px;
            font-size: 16px;
        }

        pre {
            background-color: #2d2d2d;
            color: #00ccff;
            padding: 10px;
            border-radius: 5px;
            white-space: pre-wrap;
            word-wrap: break-word;
            margin-top: 20px;
        }

        .button-container {
            display: flex;
            justify-content: center;
            gap: 10px;
        }

        .top-button {
            grid-column: span 3;
        }

        .kmap-button {
            grid-column: span 3;
        }

        .footer {
            background-color: rgba(30, 30, 30, 0.85);
            padding: 20px;
            text-align: center;
            color: #b0b0b0;
            margin-top: 30px;
        }

        #buttonContainer, #regNumberPage {
            flex: 1;
        }
    </style>
</head>
<body>
    <div id="welcomePage">
        <div class="container">
            <h1>Welcome!</h1>
            <p>App designed for Digital System Design (BECE102P)</p>
            <p>Faculty: Dr. Dhanabal R</p>
            <p>By A S Rassel (23BML0051) & Ayush Jaiswal (23BEC0204)</p>
        </div>
    </div>

    <div id="buttonContainer" class="button-container" style="display:none;">
        <h1>Choose from the Options</h1>
        <div class="button-grid">
            <button class="top-button" onclick="window.open('https://www.tutorialspoint.com/compile_verilog_online.php', '_blank')">Online Verilog Compiler</button>
            <button id="button1">DATA FLOW MODEL</button>
            <button id="button2">BEHAVIOURAL MODEL(CASE)</button>
            <button id="button3">MUX</button>
            <button id="button4" onclick="openDecoderPage()">DECODER</button>
            <button id="button5" onclick="openRandomCounterPage()">RANDOM COUNTER</button>
            <button id="button6" onclick="openAOIPage()">AOI</button>
            <button id="button7" onclick="openOAIPage()">OAI</button>
            <button id="button8" onclick="window.open('https://colab.research.google.com/drive/195yg0lhqCT_pZ70Ug5VCmdZfIGQv3xJN?usp=sharing', '_blank')">Custom XY Flipflop</button>
            <button id="button9" onclick="window.open('https://colab.research.google.com/drive/1-owm5XW7Vkcdi9UbOJYrdCDw_Cc2eL0q?usp=sharing', '_blank')">Excess-N Counter</button>
            <button id="button10" onclick="window.open('https://colab.research.google.com/drive/1zoGf6Wieqf7yVGxPjQjEaL_j96kZLOd8?usp=sharing', '_blank')">Mod N Counter</button>
            <button id="button11" onclick="window.open('https://colab.research.google.com/drive/1ipoey2Dwv8WAV08ZurXJx-hkBypYsp-h?usp=sharing', '_blank')">Code Converter</button>
            <button class="kmap-button" onclick="window.open('https://www.charlie-coleman.com/experiments/kmap/', '_blank')">Kmap Solver</button>
        </div>

        <div class="footer">
            <p>Developed by taking Dhanabal sir's code as reference.</p>
            <p>Contact info-</p>
            <ul>
                <li>A.S. Rassel<br>
                    Phn no: +91 97060 73530<br>
                    Email: i.m.ras.2512@gmail.com
                </li>
                <li>Ayush Jaiswal<br>
                    Phn no: +91 80043 98351<br>
                    Email: ayush.jaiswal2023@vitstudent.ac.in
                </li>
            </ul>
        </div>
    </div>

    <div id="regNumberPage" style="display:none;">
        <div class="container">
            <h2>Enter Your Registration Number</h2>
            <input type="text" id="regNumber" placeholder="Enter Reg Number" />
            <div class="button-container">
                <button id="generateCode">Generate Code</button>
                <button id="copyButton">Copy Code</button>
                <button id="openJdoodle">Open JDoodle</button>
            </div>
            <pre id="verilogOutput"></pre>
        </div>
    </div>

    <script>
        setTimeout(function() {
            document.getElementById("welcomePage").style.display = "none";
            document.getElementById("buttonContainer").style.display = "block";
        }, 2000);

        document.getElementById("button1").addEventListener("click", function() {
            window.open("DFL.html", "_blank");
        });

        document.getElementById("button2").addEventListener("click", function() {
            window.open("behavioural_model.html", "_blank");
        });

        document.getElementById("button3").addEventListener("click", function() {
            window.open("mux.html", "_blank");
        });

        function openDecoderPage() {
            window.open("decoder.html", "_blank");
        }

        function openRandomCounterPage() {
            window.open("random_counter.html", "_blank");
        }

        function openAOIPage() {
            window.open("aoi.html", "_blank");
        }

        function openOAIPage() {
            window.open("oai.html", "_blank");
        }

        document.getElementById("generateCode").addEventListener("click", function() {
            let regNumber = document.getElementById("regNumber").value.toUpperCase();
            let minterms = [];

            const hexMap = {
                'A': 10, 'B': 11, 'C': 12, 'D': 13, 'E': 14, 'F': 15
            };

            for (let i = 0; i < regNumber.length; i++) {
                const char = regNumber[i];
                if (char >= '0' && char <= '9') {
                    minterms.push(parseInt(char));
                } else if (hexMap[char] !== undefined) {
                    minterms.push(hexMap[char]);
                }
            }

            const verilogCode = generateVerilogCode(minterms);
            document.getElementById("verilogOutput").textContent = verilogCode;
        });

        function generateVerilogCode(minterms) {
                let code = `// Verilog Code for MUX based on registration number\n`;
                code += `module MuxBasedOnRegNumber(input [3:0] select, output reg out);\n`;
                code += `always @(*) begin\n`;
                code += `  case (select)\n`;
                minterms.forEach((minterm, index) => {
                    code += `    4'd${minterm}: out = 1'b1;\n`;
                });
                code += `    default: out = 1'b0;\n`;
                code += `  endcase\n`;
                code += `end\n`;
                code += `endmodule\n`;
                return code;
            }

            document.getElementById("copyButton").addEventListener("click", function() {
                const verilogOutput = document.getElementById("verilogOutput");
                navigator.clipboard.writeText(verilogOutput.textContent).then(() => {
                    alert("Verilog code copied to clipboard!");
                });
            });

            document.getElementById("openJdoodle").addEventListener("click", function() {
                window.open("https://www.jdoodle.com/execute-verilog-online", "_blank");
            });
        </script>
    </body>
</html>